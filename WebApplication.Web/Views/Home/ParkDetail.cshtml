@model Park
@{
    ViewData["Title"] = "ParkDetail";
    string scale = (string)ViewData["scale"]; 
}

<div class="Main-Panel">

    <img class="detail-image" src="~/images/parks/@(Model.ParkCode).jpg" />
    <h1 class="quote">@Model.ParkName<span> est. @Model.YearFounded</span></h1>


    <div class="details-container">
        <h3 class="quote">"@Model.Quote"</h3>
        <h4 class="quote">--@Model.QuoteSource</h4>
        <p>@Model.ParkDescription</p>
        <h4><span>Entry Fee:</span> @Model.EntryFee.ToString("C")</h4>
        <p><span>Location:</span>@Model.State</p>      
        <p><span>Climate:</span> @Model.Climate</p>
        <p><span>Acreage:</span> @Model.Acreage</p>
        <p><span>Elevation: </span>@Model.ElevationInFeet ft</p>
        <p><span>Miles of Trail:</span> @Model.MilesOfTrail mi</p>
        <p><span>Number of Campsites:</span> @Model.NumberOfCampsites</p>
        <p><span>Annual Number of Visitors:</span> @Model.AnnualVisitorCount</p>
        <p><span>Number of Animal Species:</span> @Model.AnimalSpecies</p>
    </div>
    <div>
        <form method="get" asp-controller="Home" asp-action="ParkDetail">
            <input type="hidden" name="id" value="@Model.ParkCode" />         
            <select name="scale">
                <option value="c">Celsius</option>
                <option value="f">Fahrenheit</option>
            </select>
            <input type="submit" name="C" value="Submit" />
        </form>

    </div>
    <div class="Main-Weather-Panel">
        <h2>5-day Weather Forecast</h2>
        <div class="weather-container">

            @foreach (Weather weather in Model.Weathers)
            {
                @if (scale == "c")
                {
                    weather.DisplayHigh = (int)((weather.High - 32) * (.56));
                    weather.DisplayLow = (int)((weather.Low - 32) * (.56));
                }
                else
                {
                    weather.DisplayHigh = weather.High;
                    weather.DisplayLow = weather.Low;
                }

                <div class="days-container">
                    <h2>Day @weather.FiveDay</h2>
                    <img src="~/images/weather/@(weather.Forecast).png" />
                    <h3>@weather.Forecast</h3>
                    <h3>High @weather.DisplayHigh degrees</h3>
                    <h3>Low @weather.DisplayLow degrees</h3>


                    <p>@weather.ForecastSuggestionString(weather.Forecast)</p>
                    <p>@weather.TempSuggestionString(weather.High, weather.Low)</p>
                </div>
            }
        </div>
    </div>

</div>
